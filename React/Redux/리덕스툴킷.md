## ë¦¬ë•ìŠ¤ íˆ´í‚·

**Redux íˆ´í‚·ì€ ë¦¬ë•ìŠ¤ ë¡œì§ì„ ì‘ì„±í•˜ê¸° ìœ„í•œ ê³µì‹ ê¶Œì¥ ì ‘ê·¼ ë°©ì‹**
ë¦¬ë•ìŠ¤ ì½”ì–´ë¥¼ ë‘˜ëŸ¬ì‹¸ê³  ìˆìœ¼ë©°, ë¦¬ë•ìŠ¤ ì•±ì„ ë¹Œë“œí•˜ëŠ” ë° í•„ìˆ˜ì ì´ë¼ê³  ìƒê°í•˜ëŠ” íŒ¨í‚¤ì§€ì™€
ê¸°ëŠ¥ì´ í¬í•¨ë˜ì–´ ìˆë‹¤. ë¦¬ë•ìŠ¤ íˆ´í‚·ì€ ì œì•ˆëœ ëª¨ë²” ì‚¬ë¡€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì—¬ ëŒ€ë¶€ë¶„ì˜ ë¦¬ë•ìŠ¤ ì‘ì—…ì„
ë‹¨ìˆœí™” í•˜ê³  ì¼ë°˜ì ì¸ ì‹¤ìˆ˜ë¥¼ ë°©ì§€í•˜ê³  ë¦¬ë•ìŠ¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë” ì‰½ê²Œ ì‘ì„±í•  ìˆ˜ ìˆê²Œ í•œë‹¤.

<aside>
ğŸ’¡ ë¦¬ë•ìŠ¤ íˆ´í‚·ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì¹´ìš´í„° ì•± ì‚´í´ë³´ê¸°
https://redux-toolkit.js.org/tutorials/quick-start

</aside>

### ì„¤ì¹˜

**npx create-react-app my-app - - template redux-typescript**

https://github.com/reduxjs/redux-toolkit

---

### Store ìƒì„±í•˜ê¸°

```tsx
import { configureStore } from '@reduxjs/toolkit';
export const store = configureStore({
    reducer: {},
});
```

### Reactì— Redux ìŠ¤í† ì–´ ì œê³µ

ì €ì¥ì†Œê°€ ìƒì„±ë˜ë©´ src/index.jsì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜
ì£¼ìœ„ì— React-Redux<Provider>ë¥¼ ë°°ì¹˜í•˜ì—¬
React êµ¬ì„± ìš”ì†Œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•  ìˆ˜ ìˆë‹¤.
ë°©ê¸ˆ ë§Œë“  Redux ì €ì¥ì†Œë¥¼ ê°€ì ¸ì˜¤ê³ 
**ì£¼ìœ„ì— <Provider>ë¥¼ ë°°ì¹˜í•˜ê³  ì €ì¥ì†Œë¥¼ propìœ¼ë¡œ ì „ë‹¬**

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/abd41589-d969-4129-8b90-fb32db68266b/593df279-7c10-4b63-ae62-c087ea107b9b/Untitled.png)

### Redux State Slice ìƒì„±

src/features/counter/counterSlice.jsë¼ëŠ” ìƒˆ íŒŒì¼ì„ ì¶”ê°€
í•´ë‹¹ íŒŒì¼ì—ì„œ ReduxToolkitì˜ createSlice APIë¥¼ ê°€ì ¸ì˜¨ë‹¤

-   Redux íˆ´í‚·ì„ ì‚¬ìš©í•˜ë©´?
    ë¦¬ë“€ì„œì—ê²Œ â€œmutaingâ€(ë³€ê²½) ë¡œì§ì„ ì‘ì„±í•  ìˆ˜ ìˆë‹¤. ê·¸ê²ƒì€ immer ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ê¸°
    ë•Œë¬¸ì— ì‹¤ì œë¡œ ìƒíƒœë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤.
    â€ì´ˆì•ˆ(draft)ìƒíƒœâ€ì— ëŒ€í•œ ë³€ê²½ ì‚¬í•­ì„ ê°ì§€í•˜ê³  ì´ëŸ¬í•œ ë³€ê²½ ì‚¬í•­ì„ ê¸°ë°˜ìœ¼ë¡œ ì™„ì „íˆ
    ìƒˆë¡œìš´ ë¶ˆë³€(immutable)ìƒíƒœë¥¼ ìƒì„±
    **= stateë¥¼ ì§ì ‘ì ìœ¼ë¡œ ë³€ê²½í•˜ë©´ ì•ˆë˜ê³ , í•˜ë‚˜ ë” ìƒì„±í•œ í›„ ë³€ê²½í•˜ì—¬
    ë³€ê²½ëœê±¸ stateì— ë„£ì–´ì¤˜ì„œ ì‚¬ìš© / ì›ë˜ìˆë˜ stateë¥¼ ë³€ê²½í•˜ëŠ”ê±´ ì•„ë‹˜ (ë¶ˆë³€ì„±ì„ì§€í‚´)**

### ìŠ¤í† ì–´ì— Slice Reducer ì¶”ê°€

ë‹¤ìŒìœ¼ë¡œ ì¹´ìš´í„° ìŠ¬ë¼ì´ìŠ¤ì—ì„œ ë¦¬ë“€ì„œ í•¨ìˆ˜ë¥¼ ê°€ì ¸ì™€ì„œ ìŠ¤í† ì–´ì— ì¶”ê°€
ë¦¬ë“€ì„œ ë§¤ê°œë³€ìˆ˜ ë‚´ë¶€ì— í•„ë“œë¥¼ ì •ì˜í•¨ìœ¼ë¡œì¨ ìŠ¤í† ì–´ì— ì´ ìŠ¬ë¼ì´ìŠ¤ ë¦¬ë“€ì„œ í•¨ìˆ˜ë¥¼
ì‚¬ìš©í•˜ì—¬ í•´ë‹¹ ìƒíƒœì— ëŒ€í•œ ëª¨ë“  ì—…ë°ì´íŠ¸ë¥¼ ì²˜ë¦¬í•˜ë„ë¡ ì§€ì‹œ

```tsx
export const store = configureStore({
    reducer: {
        counter: counterReducer,
    },
});
```

### React ì»´í¬ë„ŒíŠ¸ì—ì„œ Redux state ë° Action ì‚¬ìš©

-   useSelector : ì €ì¥ì†Œì—ì„œ ë°ì´í„°ë¥¼ ì½ëŠ”ë‹¤.
-   useDispatch : Actionì„ ì „ë‹¬

```tsx
export function Counter(){
	const count = useSelector((state:RootState) => state.counter.value)
	const dispatch = useDispatch()
```

1. configureStoreë¥¼ ì‚¬ìš©í•˜ì—¬ Redux ì €ì¥ì†Œ ë§Œë“¤ê¸°

-   configureStoreëŠ” reducer í•¨ìˆ˜ë¥¼ ëª…ëª…ëœ ì¸ìˆ˜ë¡œ ë°›ì•„ë“¤ì¸ë‹¤.
-   configureStoreëŠ” ì¢‹ì€ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ì €ì¥ì†Œë¥¼ ìë™ìœ¼ë¡œ ì„¤ì •

2. React ì• í”Œë¦¬ì¼€ì´ì…˜ êµ¬ì„± ìš”ì†Œì— Redux ì €ì¥ì†Œ ì œê³µ

-   ì£¼ìœ„ì— React-Redux<Provider> êµ¬ì„± ìš”ì†Œë¥¼ ë°°ì¹˜
-   Redux ì €ì¥ì†Œë¥¼ <Provider store = {store}> ë¡œ ì „ë‹¬

3. createSliceë¡œ Redux â€œìŠ¬ë¼ì´ìŠ¤â€ ë¦¬ë“€ì„œ ìƒì„±

-   ë¬¸ìì—´ ì´ë¦„, ì´ˆê¸° ìƒíƒœ ë° ëª…ëª…ëœ ë¦¬ë“€ì„œ í•¨ìˆ˜ë¡œ createSlice í˜¸ì¶œ
-   Reducer functionì€ Immerë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒíƒœë¥¼ â€œmutateâ€í•  ìˆ˜ ìˆë‹¤.
-   ìƒì„±ëœ ìŠ¬ë¼ì´ìŠ¤ ë¦¬ë“€ì„œ ë° ì•¡ì…˜ ìƒì„±ê¸° ë‚´ë³´ë‚´ê¸°

4. React êµ¬ì„± ìš”ì†Œì—ì„œ React-Redux useSelector/useDispatch í›„í¬ ì‚¬ìš©

-   useSelector Hooksë¥¼ ì‚¬ìš©í•˜ì—¬ ì €ì¥ì†Œì—ì„œ ë°ì´í„° ì½ê¸°
-   useDispatch Hooksë¥¼ ì‚¬ìš©í•˜ì—¬ ë””ìŠ¤íŒ¨ì¹˜ í•¨ìˆ˜ë¥¼ ê°€ì ¸ì˜¤ê³  í•„ìš”ì— ë”°ë¼ ì‘ì—…ì„ ë””ìŠ¤íŒ¨ì¹˜

---

## API

### createSlice()

-   Redux Logicì„ ì‘ì„±í•˜ê¸° ìœ„í•œ í‘œì¤€ ì ‘ê·¼ ë°©ì‹
-   createSlice ë‚´ë¶€ì—ì„œëŠ” createActionê³¼ createReducerë¥¼ ì‚¬ìš©
-   ë¦¬ë“€ì„œ í•¨ìˆ˜ì˜ ëŒ€ìƒì¸ ì´ˆê¸°ìƒíƒœì™€ â€œslice ì´ë¦„â€ì„ ë°›ì•„ ë¦¬ë“€ì„œì™€ ìƒíƒœì— í•´ë‹¹í•˜ëŠ”
    ì•¡ì…˜ ìƒì„±ìì™€ ì•¡ì…˜ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” í•¨ìˆ˜

### extraReducers

-   extraReducersë¥¼ ì‚¬ìš©í•˜ë©´ createSliceê°€ ìƒì„±í•œ action type ì™¸ì— ë‹¤ë¥¸ action typeì— ì‘ë‹µ
-   extraReducersë¡œ ì§€ì •ëœ ì¼€ì´ìŠ¤ ë¦¬ë“€ì„œëŠ” â€œì™¸ë¶€â€ì•¡ì…˜ì„ ì°¸ì¡°í•˜ê¸° ìœ„í•œ ê²ƒì´ë¯€ë¡œ,
    ê·¸ë“¤ì€ slice.actionsì—ì„œ ìƒì„±ëœ ì•¡ì…˜ì„ ê°€ì§€ì§€ ì•Šì„ ê²ƒ

```tsx
const counter = createSlice({
	name : 'counter'
	initialState : 0,
	reducers : {
		increment : (state) => state + 1,
		decrement : (state) => state - 1

extraReducers:(builder) =>{
	builder.addCase(incrementBy, (state,action) =>{
	return state + action.payload
})
builder.addCase(decrementBy, (state,action) =>{
	return state - action.payload
})
```

### createAsyncThunk

> crateActionì˜ ë¹„ë™ê¸° ë²„ì „
> createAction + Async â‡’ **createAsyncThunk**

<aside>
ğŸ’¡ **funtion createAsyncThunk(type, payloadCreator, options)**

</aside>

ë¹„ë™ê¸° ìš”ì²­ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì¶”ê°€ Redux action **type ìƒìˆ˜**ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ë¬¸ìì—´ :

(ì˜ˆë¥¼ ë“¤ì–´ â€˜users/requestStateâ€™ type ì¸ìˆ˜ëŠ” ë‹¤ìŒ action typeì„ ìƒì„±)

-   **pending : â€˜users/requestState/pendingâ€™**
-   **fulfilled : â€˜users/requestState/fulfilledâ€™**
-   **rejected : â€˜users/requestState/rejectedâ€™**

```tsx
function payloadCreator(arg, thunkAPI);
// thunkAPI : ì¼ë°˜ì ìœ¼ë¡œ Redux ì½í¬ í•¨ìˆ˜ì— ì „ë‹¬ë˜ëŠ” ëª¨ë“  ë§¤ê°œë³€ìˆ˜ì™€ ì¶”ê°€ ì˜µì…˜ì„ í¬í•¨í•˜ëŠ” ê°ì²´
```

-   dispatch : Redux ìŠ¤í† ì–´ dispatch ë©”ì„œë“œ
-   getState : Redux ìŠ¤í† ì–´ getState ë©”ì„œë“œ
-   extra : ì„¤ì • ì‹œ ì½í¬ ë¯¸ë“¤ì›¨ì–´ì— ì œê³µë˜ëŠ” â€œì¶”ê°€ ì¸ìˆ˜â€(ì‚¬ìš©ê°€ëŠ¥í•œê²½ìš°)
-   requestld : ì´ ìš”ì²­ ì‹œí€€ìŠ¤ë¥¼ ì‹ë³„í•˜ê¸° ìœ„í•´ ìë™ìœ¼ë¡œ ìƒì„±ëœ ê³ ìœ  ë¬¸ìì—´ ID ê°’
-   signal : ì•± ë¡œì§ì˜ ë‹¤ë¥¸ ë¶€ë¶„ì´ ì´ ìš”ì²­ì„ ì·¨ì†Œê°€ í•„ìš”í•œ ê²ƒìœ¼ë¡œ í‘œì‹œí–ˆëŠ”ì§€ í™•ì¸í•˜ëŠ” ë° ì‚¬ìš©í•  ìˆ˜
    ìˆëŠ” AbortController.signal rocp
-   rejectWithValue(value,[meta]) : rejectWithValueëŠ” ì •ì˜ëœ í˜ì´ë¡œë“œ ë° ë©”íƒ€ì™€ í•¨ê»˜ ê±°ë¶€ëœ
    ì‘ë‹µì„ ë°˜í™˜í•˜ê¸° ìœ„í•´ ì‘ì—… ìƒì„±ìì—ì„œ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜. ê·¸ê²ƒì€ ë‹¹ì‹ ì´ ì–´ë–¤ ê°’ì„
    ì£¼ë“  ì „ë‹¬í•˜ê³  ê±°ë¶€ëœ ì‘ì—…ì˜ í˜ì´ë¡œë“œì— ë°˜í™˜. ë©”íƒ€ë„ ì „ë‹¬í•˜ë©´ ê¸°ì¡´ì˜ rejectAction.metaì™€ ë³‘í•©
-   fulfillWithValue(value,meta) : fulfilledAction.metaì— ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆëŠ” ë™ì•ˆ
    ê°’ìœ¼ë¡œ ì´í–‰í•˜ê¸° ìœ„í•´ ì‘ì—… ìƒì„±ìì—ì„œ ë°˜í™˜í•  ìˆ˜ ìˆëŠ” ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜

```tsx
const updateUser = createAsyncThunk(
	'users/update',
	async (userData, {rejectWithValue }) => {
		const {id, ...fields } = userData
		try{
			const response = await userAPI.updateById(id, fields)
			return response.data.user
			} catch(err) {
				return rejectWithValue(err.response.data)
				//ì—¬ê¸°ì— ì—ëŸ¬ ê°’ì„ ë„£ì–´ ì£¼ë©´ action.payloadì˜ ê°’ìœ¼ë¡œ ë¨
		}
```

**ì—ëŸ¬ê°€ ë‚˜ë©´ action.payloadê°’ì´ err.response.dataê°€ ë¨**

```tsx
builder.addCase(fetchUserById.rejected, (state, action) => {
    state.error = action.payload;
});
```

### cancellation

1. thunk ì‹¤í–‰ ì¤‘ ì·¨ì†Œí•˜ê¸°

-   toggleë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ test ì»´í¬ë„ŒíŠ¸ê°€ ë” ì´ìƒ ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” unmount ë  ë•Œ
    clean up ë¶€ë¶„ì´ í˜¸ì¶œë˜ë¯€ë¡œ promise.abort()ë©”ì†Œë“œê°€ í˜¸ì¶œë˜ì–´ì„œ thunkê°€ ì‹¤í–‰ì¤‘ì— ì¤‘ì§€,
    ì´ë ‡ê²Œ ë˜ë©´ â€œthunkName/rejectedâ€ actionì´ dispatch ëœë‹¤

```
const Test = () => {

    const dispatch = useAppDispatch();
    useEffect(() => {

        const promise = dispatch(incrementAsync(10))

        return () => {
            promise.abort();
        }
    }, [])


    return (
        <div>Test</div>
    )
```

1. abort ì´ë²¤íŠ¸ ë°œìƒ ì‹œ requestë„ ì·¨ì†Œí•˜ê¸°

```
export const fetchUsersAsync = createAsyncThunk(
    'counter/fetchUsers',
    async (_, { signal }) => {
        const controller = new AbortController();
        signal.addEventListener('abort', () => controller.abort());

        await axios.get('https://jsonplaceholder.typicode.com/users', {
            signal: controller.signal,
        });
    }
);
```

### builder callback

> builder callback â‡’ createReducer(initialState, builderCallback)

<aside>
ğŸ’¡ createReducerì—ì„œ Actionì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ì¼€ì´ìŠ¤ ë¦¬ë“€ì„œë¥¼ ì •ì˜í•˜ëŠ” ë‘ ê°€ì§€ ë‹¤ë¥¸ í˜•íƒœì¸ â€œë¹Œë”ì½œë°±(builder callback) í‘œê¸°ë²•ê³¼ â€œë§µ ê°ì²´â€(map object) í‘œê¸°ë²•ì„ ì§€ì›í•œë‹¤. ë‘˜ ë‹¤ ë™ì¼í•˜ì§€ë§Œ â€œë¹Œë”ì½œë°±â€ í‘œê¸°ë²•ì´ ë” ì„ í˜¸ëœë‹¤. (íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ì™€ í˜¸í™˜ì„±ì„ ìœ„í•´)

</aside>

-   builder.addCase(actionCreator, reducer):
    ì•¡ì…˜ íƒ€ì…ê³¼ ì •í™•íˆ ë§µí•‘ë˜ëŠ” ì¼€ì´ìŠ¤ ë¦¬ë“€ì„œë¥¼ ì¶”ê°€í•˜ì—¬ ì•¡ì…˜ì„ ì²˜ë¦¬
    addMatcher ë˜ëŠ” addDefaultCase ë©”ì„œë“œ ë³´ë‹¤ ë¨¼ì € ì‘ì„±ë˜ì–´ì•¼ í•¨
-   builder.addMatcher(matcher,reducer):
    ìƒˆë¡œ ë“¤ì–´ì˜¤ëŠ” ëª¨ë“  ì•¡ì…˜ì— ëŒ€í•´ì„œ ì£¼ì–´ì§„ íŒ¨í„´ê³¼ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸í•˜ê³  ë¦¬ë“€ì„œë¥¼ ì‹¤í–‰
-   builder.addDefaultCase(reducer):
    ë‹¤ë¥¸ ì¼€ì´ìŠ¤ ë¦¬ë“€ì„œë‚˜ ë§¤ì²˜ ë¦¬ë“€ì„œê°€ ì‹¤í–‰ë˜ì§€ ì•Šì•˜ë‹¤ë©´, ê¸°ë³¸ ì¼€ì´ìŠ¤ ë¦¬ë“€ì„œê°€ ì‹¤í–‰

---

### Map object

> map object â‡’ createReducer(initialState, actionsMap, actionMatchers, defaultCaseReducer)

-   initialState : ë¦¬ë“€ì„œë¥¼ ì²˜ìŒ í˜¸ì¶œí•  ë•Œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì´ˆê¸° ìƒíƒœ ê°’
-   actionsMap : ì•¡ì…˜ íƒ€ì…ì´ ì¼€ì´ìŠ¤ ë¦¬ë“€ì„œì— ë§µí•‘ë˜ì–´ ìˆëŠ” ê°ì²´
-   actionMatchers : {matcher, reducer} í˜•ì‹ìœ¼ë¡œ ì •ì˜ëœ ë°°ì—´
    ì¼€ì´ìŠ¤ ë¦¬ë“€ì„œê°€ ì¼ì¹˜í•˜ëŠ”ì§€ ì—¬ë¶€ì— ê´€ê³„ì—†ì´ ëª¨ë“  ì¼ì¹˜í•˜ëŠ” ë¦¬ë“€ì„œê°€ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰
-   defaultCaseReducer : ì´ ì‘ì—…ì— ëŒ€í•´ ì¼€ì´ìŠ¤ ë¦¬ë“€ì„œ ë° ë§¤ì²˜ ë¦¬ë“€ì„œê°€ ì‹¤í–‰ë˜ì§€
    ì•ŠëŠ” ê²½ìš° ì‹¤í–‰ë˜ëŠ” â€œê¸°ë³¸ ì¼€ì´ìŠ¤â€ ë¦¬ë“€ì„œ

---

### Redux Toolkit

-   ì‹¤ì œ ë¦¬ë“€ì„œê°€ ë™ì‘í•˜ëŠ” createSlice()
-   storeì˜ êµ¬ì„±ì„¤ì •ì¸ configureStore()

**ì¹´ìš´íŠ¸ ì¦ê° ì˜ˆì œ**

> /store/counterSlice.ts

```tsx
import { createSlice } from '@reduxjs/toolkit';
import type { PayloadAction } from '@reduxjs/toolkit';

interface CounterState {
    value: number;
}

const initialState = { value: 0 } as CounterState;

const counterSlice = createSlice({
    name: 'counter',
    initialState,
    reducers: {
        increment(state) {
            state.value++;
        },
        decrement(state) {
            state.value--;
        },
        incrementByAmount(state, action: PayloadAction<number>) {
            state.value += action.payload;
        },
    },
});

export const { increment, decrement, incrementByAmount } = counterSlice.actions;
export default counterSlice.reducer;
```

1. **initialState** : defaultê°’ì´ë©° ë™ì‹œì— ìƒíƒœê´€ë¦¬ì— ì‚¬ìš©ë˜ëŠ” type
   interfaceë¡œ typeì„ ì§€ì •í•˜ê³ , **initialStateì˜ ê°’ì„ ì´ˆê¸°í™”**, ì¹´ìš´í„° ì˜ˆì œì´ê¸° ë•Œë¬¸ì— ì´ˆê¸°ê°’ì„ 0ìœ¼ë¡œ ì„¤ì •
2. name : createSlice()ë¥¼ í†µí•´ sliceë¥¼ ìƒì„±, ë‚´ë¶€ì ìœ¼ë¡œ **ì¤‘ë³µ**ì„ í”¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ê³ ìœ í•œ ê°’
3. **reducers** : **ìƒíƒœ ë³€í™”ë¥¼ ì²˜ë¦¬í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜**. í•¨ìˆ˜ì˜ ì´ë¦„ì€ dispatchë¡œ ë¶€ë¥´ëŠ” ì•¡ì…˜í•¨ìˆ˜ì˜ ì´ë¦„ì´ë©°,
   stateì˜ ìƒíƒœê°’ì„ ë³€ê²½í•˜ëŠ” ì²˜ë¦¬ë¥¼ í•´ì¤€ë‹¤. dispatchì— í¬í•¨í•´ì„œ ì „ë‹¬í•œ ê°’ì€ PayloadAction<>ì˜ íƒ€ì…ì˜ action.payloadê°’ìœ¼ë¡œ í™•ì¸, ê¸°ì¡´ì˜ reduxì—ì„œ ì•¡ì…˜íƒ€ì…ì„ ì§€ì •í•˜ê³ , íƒ€ì…ì— ë”°ë¥¸ ì•¡ì…˜í•¨ìˆ˜, action.typeì— ë”°ë¥¸ ìƒíƒœë³€í™”ì²˜ë¦¬ ë° ë¶ˆë³€ì„± ì²˜ë¦¬ë¥¼ 3ë‹¨ê³„ì— ë‚˜ëˆ ì„œ í–ˆë‹¤ë©´ íˆ´í‚·ì—ì„œëŠ” ì´ í•˜ë‚˜ì˜ í•¨ìˆ˜ë¡œ ì •ì˜
4. **í›„ì²˜ë¦¬** : createSliceë¡œ ìƒì„±ëœ counterSliceì˜ actionë¥¼ exportì‹œì¼œ ì™¸ë¶€ì—ì„œ actionì„ í˜¸ì¶œí• ìˆ˜ìˆê²Œí•¨, reducer ë˜í•œ exportì‹œì¼œ ì¶”í›„ì— storeì— ë¦¬ë“€ì„œë¥¼ ë“±ë¡í•  ìˆ˜ ìˆê²Œ í•¨

> /store/store.ts

```tsx
import { configureStore } from '@reduxjs/toolkit';
import counterReducer from '../store/counterSlice';

export const store = configureStore({
    reducer: {
        counter: counterReducer, // counterëŠ” í‚¤, counterReducerí•¨ìˆ˜ì‚¬ìš©
    },
});

// Infer the `RootState` and `AppDispatch` types from the store itself
export type RootState = ReturnType<typeof store.getState>;
// Inferred type: {posts: PostsState, comments: CommentsState, users: UsersState}
export type AppDispatch = typeof store.dispatch;
```

-   ë‚´ë³´ë‚¸ reducerë¥¼ configureStoreì— ë“±ë¡, ì¶”í›„ì— Appì—ì„œ state.counter.valueë¥¼ ì‚¬ìš©í•´ storeì— ì €ì¥ëœ ë¦¬ë“€ì„œì˜ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŒ

> App ì „ì—­ Providerì— ë“±ë¡

```tsx
// index.tsx
import { Provider } from 'react-redux';
import { store } from './store/store';

ReactDOM.render(
    <React.StrictMode>
        <Provider store={store}>
            <App />
        </Provider>
    </React.StrictMode>,
    document.getElementById('root')
);
```

-   ìœ„ì—ì„œ ì‘ì„±í•œ storeë¥¼ ì „ì—­ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ Appì—ì„œ Providerë¡œ ë“±ë¡

> store í˜¸ì¶œ

```tsx
import React from 'react';
import type { RootState } from '../../app/store';
import { useSelector, useDispatch } from 'react-redux';
import { decrement, increment } from './store/counterSlice';

export function Counter() {
    const count = useSelector((state: RootState) => state.counter.value);
    const dispatch = useDispatch();

    return (
        <div>
            <div>
                <button
                    aria-label="Increment value"
                    onClick={() => dispatch(increment())}>
                    Increment
                </button>
                <span>{count}</span>
                <button
                    aria-label="Decrement value"
                    onClick={() => dispatch(decrement())}>
                    Decrement
                </button>
            </div>
        </div>
    );
}
```

-   useSelector Hooksë¥¼ ì´ìš©í•´ storeì— ì €ì¥ëœ stateë¥¼ ê°€ì ¸ì˜¤ê³ , useDispatchë¥¼ ì‚¬ìš©í•´ ë³€ê²½í•  ê°’ì„ reducerì— ì „ë‹¬

# ğŸ‘‹ ë¦¬ë•ìŠ¤íˆ´í‚· ì‚¬ìš©ë°©ë²•

## 1. store.js íŒŒì¼ìƒì„±

```js
import { configureStore } from '@reduxjs/toolkit';

export default configureStore({
    reducer: {},
});
```

## 2. Provider ì‘ì„±

-   index.jsíŒŒì¼ì—ì„œ ì‘ì„±

```javascript
import { Provider } from 'react-redux';
import store from './store';

<Provider store={store}>
    <App />
</Provider>;
```

## 3. Sliceë¥¼ ìƒì„±

### <b> userSlice.js </b>

```js
import { createSlice } from '@reduxjs/toolkit';

let user = createSlice({
    name: 'user',
    initialState: { name: 'kem', age: 20 },
    reducers: {
        changeName(state) {
            state.name = 'ë°•';
        },
        increase(state, a) {
            state.age += a.payload; // í™”ë¬¼ë³´ë‚¸ê±° ì¶œë ¥í•˜ëŠ” ë¬¸ë²•
        },
    },
});

export let { changeName, increase } = user.actions;

export default user;
```

-   const user = createSliceë¡œ ì‚¬ìš©í•  í•¨ìˆ˜ì´ë¦„ì„ ìƒì„±í•œë‹¤.
-   `name` ê¼­ í¬í•¨ë˜ì–´ì•¼í•¨. ëŒ€ë¶€ë¶„ í•¨ìˆ˜ì´ë¦„ê³¼ í†µì¼ì‹œí‚´, ë‚´ë¶€ì ìœ¼ë¡œ ì¤‘ë³µì„ í”¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë˜ëŠ” ê³ ìœ ê°’
-   `initialState` : defaultê°’,
-   `reducers` : ìƒíƒœ ë³€í™” ì²˜ë¦¬ í•¨ìˆ˜ë¥¼ ë§Œë“ ë‹¤. dispatchë¡œ ë¶€ë¥´ëŠ” ì•¡ì…˜í•¨ìˆ˜ì˜ ì´ë¦„
-   `export` : `createSlice`ë¡œ ìƒì„±ëœ actionì„ exportí•´ì„œ ì™¸ë¶€ì—ì„œ í˜¸ì¶œí•œë‹¤. ë¦¬ë“€ì„œë„ exportí•´ì„œ store ë¦¬ë“€ì„œì— ë“±ë¡í• ìˆ˜ìˆê²Œí•¨
<hr>

### <b> userSlice.js </b>

```javascript
import { configureStore, createSlice } from '@reduxjs/toolkit';

import user from './store/userSlice';

let cart = createSlice({
    name: 'cart',
    initialState: [
        { id: 0, name: 'White and Black', count: 2 },
        { id: 2, name: 'Grey Yordan', count: 1 },
    ],
    reducers: {
        addCount(state, action) {
            let ë²ˆí˜¸ = state.findIndex((a) => {
                return a.id === action.payload;
            });
            state[ë²ˆí˜¸].count++;
        },
        addItem(state, a) {
            state.push(a.payload);
        },
    },
});

export let { addCount, addItem } = cart.actions;

export default configureStore({
    reducer: {
        user: user.reducer,
        cart: cart.reducer,
    },
});
```

-   `createSlice` ìƒì„±
-   ë‚´ë³´ë‚¸ reducerë¥¼ `configureStore`ì— ë“±ë¡

### <b> import ë¡œ ì‚¬ìš© </b>

```js
import { useSelector, useDispatch } from 'react-redux';

function Cart() {
    let state = useSelector((state) => state);
    let cart = useSelector((state) => {
        return state.cart; //ëª¨ë“  stateë¥¼ ì‚¬ìš©í•¨, ì§€ì •í•´ì„œ ì‚¬ìš©í•˜ë ¤ë©´ state.user ë¡œ ì‘ì„±
    });
    const dispatch = useDispatch();

    return (
        <>
            <div>
                {state.user.name} {state.user.age}
                <button
                    onClick={() => {
                        dispatch(increase(100)); //í™”ë¬¼ 100ê°œë‹´ì•„ì„œë³´ë‚´ê¸°
                    }}>
                    ë²„íŠ¼
                </button>
            </div>
        </>
    );
}
```

-   importí•œ í›„ `useSelector` ë¡œ stateë¥¼ ê°€ì ¸ì™€ì„œ ì‚¬ìš©
-   const í•¨ìˆ˜ì´ë¦„ = useSelector((state)=>{return state.ê°€ì ¸ì˜¬ìƒíƒœ})ë¡œì‚¬ìš©
-   dispatchì‚¬ìš©

<hr />

## reduxì˜ stateë³€ê²½

1. state ìˆ˜ì •í•´ì£¼ëŠ” í•¨ìˆ˜ìƒì„±
    - ì›í• ë•Œ ê·¸ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•´ë‹¬ë¼ê³  store.jsì— ìš”ì²­
2. ë§Œë“ í•¨ìˆ˜ export, import ì‚¬ìš©
3. dispatch(stateë³€ê²½í•¨ìˆ˜())
